*Metadata
  Recording:
      Recording quality: [ Good, ~, good, poor, Poor, Fair, Good ]
      Comment          : "RF probably arounc 100, but overall weird cell, that kept changing firing rate"
      Experimenter     : [ Tim Hladnik, MZ/TH, Tim Hladnik, Martin Zeller, Dennis Huben, Janez Presern, Fabian Sinz, Juan Sehuanes, Carolin Sachgau, Jie Zhang, Jan Grewe, Jan Benda ]
      WaterTemperature : 25.3°C
      WaterConductivity: 330uS/cm
      Cell:
          CellType (Cell type)          : [ P-unit, E-cell, E-cell deep, unknow, E-Cell, unkown, E-cell superficial, I-Cell, P-unit, Ampullary, T-unit ]
          Structure (Recording location): [ Nerve, Nerve, Brain ]
          BrainRegion                   : [ n.A., Torus, n.A., ELL ]
          BrainSubRegion                : [ ~, ~, LS, CLS, CMS, MS ]
          Depth                         : 0um
          Lateral position              : 0mm
          Transverse section            : 0
      Subject:
          Species     : [ Apteronotus leptorhynchus, Apteronotus albifrons, Apteronotus leptorhynchus ]
          Gender (Sex): [ unknown, unknown, Male, Female ]
          Size        : 13cm
          Weight      : 4.4g
          Identifier  : "2018lepto56"
      -Preparation-:
          Type                           : [ in vivo, in vivo, slice ]
          Anaesthesia                    : true
          Anaesthetic (Drug)             : MS 222
          AnaestheticDose (Concentration): 100mg/l
          LocalAnaesthesia               : true
          LocalAnaesthetic (Drug)        : Lidocaine
          Immobilization                 : true
          ImmobilizationDrug (Drug)      : Tubocurarin 5mg/L
          ImmobilizationDose             : 50ul

*Control: Session
  ephys: true

*Control: Robot
  General:
      robot: robot-2
  Stored positions:
      FishHeadPosition  : [ 364.57mm, 427.69mm, 214.53mm ]
      FishTailPosition  : [ 364.57mm, 305.01mm, 243.59mm ]
      MovementAreaStart : [ 0mm, 0mm, 0mm ]
      MovementAreaEnd   : [ 0mm, 0mm, 0mm ]
      ForbiddenAreaStart: [ 0.499mm, 93.49mm, 0.196mm ]
      ForbiddenAreaEnd  : [ 340mm, 447.8mm, 253.92mm ]
      CustomPosition    : [ 368.69mm, 0mm, 0mm ]
  Tool clamp:
      toolreleasedelay: 1s
      toolfixdelay    : 2.5s
      autoclamp       : true

*Control: AmplifierControl
  initmode         : [ Bridge, Current-clamp, Dynamic-clamp, Voltage-clamp, Manual selection ]
  resistancecurrent: 1nA
  adjust           : false
  maxresistance    : 100MOhm
  buzzpulse        : 500ms
  showbridge       : true
  showcc           : false
  showdc           : false
  showvc           : false
  showmanual       : false
  syncpulse        : 10us
  syncmode         : 0samples

*Control: SpectrumAnalyzer
  intrace   : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
  origin    : [ before end of data, before signal, after signal ]
  offset    : 0ms
  duration  : 1000ms
  resolution: 10Hz
  overlap   : true
  window    : [ Hanning, Bartlett, Blackman, Blackman-Harris, Hamming, Hanning, Parzen, Square, Welch ]
  fmax      : 500Hz
  decibel   : true
  peak      : true
  pmin      : -50dB

*Model: PUnitModel
  General:
      EOD:
          eodtype           : [ Apteronotus, None, Sine, Apteronotus, Eigenmannia ]
          eodfreq           : 800Hz
          eodfreqsd         : 10Hz
          eodfreqtau        : 10000s
          eodlocalamplitude : 1mV/cm
          eodglobalamplitude: 1mV/cm
          localstimulusgain : 5.00
          globalstimulusgain: 0.00
          stimulusgain      : 1.00
      Spikes:
          voltagescale: 0.5
  Spike generator:
      spikemodel: [ Wang-Buzsaki, Stimulus, Passive membrane, Morris-Lecar, Hodgkin-Huxley, Connor, Wang-Buzsaki ]
      noised    : 0.1
      deltat    : 0.05ms
      integrator: [ Euler, Midpoint, Runge-Kutta 4 ]
      vcgain    : 100
  Voltage-gated current 1 - activation only:
      gmc  : 2
      emc  : -90mV
      mvmc : -35mV
      mwmc : 10mV
      taumc: 30ms
  Voltage-gated current 2 - activation and inactivation:
      gmhc   : 0
      emhc   : -90mV
      mvmhc  : -40mV
      mwmhc  : 10mV
      taummhc: 10ms
      pmmhc  : 1
      hvmhc  : -40mV
      hwmhc  : 10mV
      tauhmhc: 10ms
      pmhhc  : 1

*Model: Stimulus
  Input:
      gain  : 1
      offset: 0muA/cm^2

*Model: Passive membrane
  Parameter:
      R: 50MOhm
      C: 25pF
  Input:
      gain  : 1
      offset: 0muA/cm^2

*Model: Morris-Lecar
  General:
      params: [ Custom, Type I, Type II ]
  Calcium current:
      gca : 4nS
      eca : 120mV
      mvca: -1.2mV
      mkca: 18mV
  Potassium current:
      gk   : 8nS
      ek   : -84mV
      mvk  : 12mV
      mkk  : 17.4mV
      mphik: 0.067kHz
  Leak current:
      gl: 2nS
      el: -60mV
      c : 20pF
  Input:
      timescale: 10
      gain     : 1
      offset   : 0muA/cm^2

*Model: Hodgkin-Huxley
  Sodium current:
      gna: 120mS/cm^2
      ena: 50mV
  Potassium current:
      gk: 36mS/cm^2
      ek: -77mV
  Leak current:
      gl : 0.3mS/cm^2
      el : -54.4mV
      c  : 1muF/cm^2
      phi: 1
  Input:
      gain  : 50
      offset: 10muA/cm^2

*Model: Connor
  Sodium current:
      gna: 120mS/cm^2
      ena: 50mV
  Potassium current:
      gk: 20mS/cm^2
      ek: -77mV
  A current:
      gka: 47mS/cm^2
      eka: -80mV
  Leak current:
      gl : 0.3mS/cm^2
      el : -22mV
      c  : 1muF/cm^2
      phi: 1
  Input:
      gain  : 50
      offset: 30muA/cm^2

*Model: Wang-Buzsaki
  Sodium current:
      gna: 35mS/cm^2
      ena: 55mV
  Potassium current:
      gk: 9mS/cm^2
      ek: -90mV
  Leak current:
      gl : 0.1mS/cm^2
      el : -65mV
      c  : 1muF/cm^2
      phi: 5
  Input:
      gain  : 50
      offset: 6muA/cm^2

*Event Detector: Spikes-1
  Detector:
      minthresh: 3.5mV
      ratio    : 15%
      testwidth: false
      fitwidth : 3.00ms

*Event Detector: EOD
  threshold    : 0.99mV
  interpolation: [ linear interpolation, closest datapoint, linear interpolation, linear fit, quadratic fit ]

*Event Detector: Chirps
  minthresh: 10Hz

*Event Detector: LocalEOD-1
  threshold    : 0.5mV
  interpolation: [ linear interpolation, closest datapoint, linear interpolation, linear fit, quadratic fit ]

*Event Detector: LocalBeat-1
  minthresh: 0.050mV
  ratio    : 35%

*Event Detector: LocalEOD-2
  threshold    : 0.2mV
  interpolation: [ linear interpolation, closest datapoint, linear interpolation, linear fit, quadratic fit ]

*Event Detector: GlobalEFieldStimulus
  threshold    : 0.27958mV
  interpolation: [ linear interpolation, closest datapoint, linear interpolation, linear fit, quadratic fit ]

*RePro: Pause
  duration : 0sec
  savedata : false
  plotwidth: 0sec

*RePro: Record
  duration : 1sec
  plotwidth: 0sec
  dioout   : false
  diodevice: dio-1
  dioline  : 0

*RePro: SaveTraces
  General:
      duration : 1sec
      savedata : false
      split    : false
      dioout   : false
      diodevice: dio-1
      dioline  : 0
  Analog input traces:
      trace-V-1                 : true
      trace-EOD                 : true
      trace-LocalEOD-1          : true
      trace-LocalEOD-2          : true
      trace-GlobalEFieldStimulus: true
  Events:
      events-Spikes-1            : true
      events-EOD                 : true
      events-Chirps              : true
      events-LocalEOD-1          : true
      events-LocalBeat-1-1       : true
      events-LocalBeat-1-2       : true
      events-LocalEOD-2          : true
      events-GlobalEFieldStimulus: true

*RePro: SetAttenuatorGain
  outrace    : V-1
  gain       : 1
  interactive: true

*RePro: SetDigitalOutput
  device     : dio-1
  line       : 0
  value      : 0
  interactive: false

*RePro: SetInputGain
  intrace    : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
  gainindex  : 3
  interactive: true

*RePro: SetOutput
  outtrace   : [ GlobalEField, GlobalEFieldAM, LocalEField, I ]
  value      : 0V
  intensity  : 1
  interactive: false

*RePro: Spectrogram
  intrace : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
  width   : 100ms
  step    : 0ms
  tmax    : 10s
  duration: 0s
  size    : [ "1024", "64", "128", "256", "512", "1024", "2048", "4096", "8192", "16384", "32768", "65536", "131072", "262144", "524288", "1048576" ]
  overlap : true
  window  : [ Hanning, Bartlett, Blackman, Blackman-Harris, Hamming, Hanning, Parzen, Square, Welch ]
  powermax: true
  fmax    : 2000Hz
  pmax    : 0dB
  pmin    : -50dB

*RePro: TransferFunction
  Stimulus:
      outtrace  : [ GlobalEField, GlobalEFieldAM, LocalEField, I ]
      offsetbase: [ custom, current ]value
      offset    : 0V
      amplitude : 1V
      clip      : 4
      intensity : 1
      fmin      : 0Hz
      fmax      : 1000Hz
      duration  : 1s
      pause     : 1s
      repeats   : 100
  Analysis:
      intrace      : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
      size         : [ "1024", "64", "128", "256", "512", "1024", "2048", "4096", "8192", "16384", "32768", "65536", "131072", "262144", "524288", "1048576" ]
      overlap      : true
      window       : [ Hanning, Bartlett, Blackman, Blackman-Harris, Hamming, Hanning, Parzen, Square, Welch ]
      plotstdevs   : true
      plotcoherence: true
      plotdecibel  : false

*RePro: Wait
  absdate: false
  date   : ~
  days   : 0days
  time   : "00:00:00.000"

*RePro: AttenuatorCheck
  outtrace : [ GlobalEField, GlobalEFieldAM, LocalEField, I ]
  intrace  : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
  duration : 1s
  type     : [ attenuation, noise ]
  frequency: 50Hz
  amplitude: 1Vmax
  minlevel : 0dB
  maxlevel : 100dB
  dlevel   : 1dB
  adjust   : true

*RePro: InputRangeCheck
  outtrace: [ GlobalEField, GlobalEFieldAM, LocalEField, I ]
  intrace : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
  duration: 1000ms
  pause   : 1000ms
  amplnum : 10

*RePro: RestartDelay
  duration: 100ms
  repeats : 100
  intrace : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]

*RePro: StimulusDelay
  intrace   : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
  outtrace  : [ GlobalEField, GlobalEFieldAM, LocalEField, I ]
  samplerate: 10kHz
  duration  : 10ms
  pause     : 50ms
  repeats   : 100
  setdelay  : [ none, minimum, mean ]

*RePro: BridgeTest
  amplitude   : 1V
  duration    : 10ms
  pause       : 100ms
  average     : 10
  skipspikes  : true
  dynamicrange: false
  rate        : 0.01
  plottrace   : true

*RePro: CalibrateSyncPulse
  imin    : -1
  imax    : 1
  istep   : 0.001
  skipwin : 1000ms
  duration: 1000ms

*RePro: CapacityCompensation
  amplitude   : 1V
  duration    : 200ms
  frequency   : 100Hz
  showcycles  : 10
  pause       : 100ms
  average     : 10
  skipspikes  : true
  dynamicrange: false
  rate        : 0.01

*RePro: Iontophoresis
  durationpos  : 1s
  amplitudepos : 1V
  pausepos     : 1s
  durationneg  : 1s
  amplitudeneg : 1V
  pauseneg     : 1s
  fortunes     : true
  fortuneperiod: 10s

*RePro: SetLeak
  interactive   : true
  preset        : [ previous, zero, custom ]values
  g             : 0nS
  E             : 0mV
  reversaltorest: true
  involtage     : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
  duration      : 100ms

*RePro: SetVGate
  interactive   : true
  preset        : [ previous, zero, custom ]values
  g             : 0nS
  E             : 0mV
  vmid          : 0mV
  width         : 0mV
  tau           : 10ms
  reversaltorest: true
  involtage     : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
  duration      : 100ms

*RePro: Beats
  Stimulation:
      name         : ~
      duration     : 10seconds
      pause        : 20seconds
      ramp         : 0.5seconds
      deltafrange  : "10"Hz
      deltafshuffle: [ Up, Down, AlternateInUp, AlternateInDown, AlternateOutUp, AlternateOutDown, Random, PseudoRandom ]
      fixeddf      : false
      amplitude    : 1mV/cm
      amtype       : [ none, sine, rectangular ]
      amfreq       : "1"Hz
      amamplitude  : "100"%
      repeats      : 10
      fakefish     : 0Hz
  Chirps:
      generatechirps  : false
      chirpsize       : 100Hz
      chirpwidth      : 100ms
      chirpampl       : 0%
      chirpkurtosis   : 1
      chirpfrequencies: ~Hz
      chirptimesfile  : ~
      chirptimeshuffle: [ Up, Down, AlternateInUp, AlternateInDown, AlternateOutUp, AlternateOutDown, Random, PseudoRandom ]
  Analysis:
      before      : 1seconds
      after       : 1seconds
      averagetime : 1seconds
      usepsd      : true
      mineodfreq  : 100Hz
      maxeodfreq  : 2000Hz
      eodfreqprec : 1Hz
      neod        : 2
      showstimulus: false
      split       : false
      savetraces  : false

*RePro: CalibEField
  General:
      reset    : true
      resetval : 0.1
      am       : false
      beatfreq : 10Hz
      frequency: 670Hz
      duration : 600ms
      pause    : 10ms
  Range:
      amplsel        : [ contrast, amplitude ]
      targetcontrast : 25%
      mincontrast    : 25%
      maxcontrast    : 65%
      targetamplitude: 1mV/cm
      minamplitude   : 0.5mV/cm
      maxamplitude   : 2mV/cm
      numintensities : 10

*RePro: CalibrateRobot
  robot: robot-2

*RePro: DualBeat
  Stimulus:
      rewarded  : [ A, B ]
      eodf      : 0.0Hz
      duration  : 10seconds
      deltafA   : 25.0Hz
      harmonicA : false
      amplitudeA: 1.000V
      deltafB   : -50.0Hz
      harmonicB : false
      amplitudeB: 1.000V
  Experiment:
      noFish           : false
      randomizeAmpl    : true
      amplitudeRange   : 20%
      randomSminus     : false
      sminusRange      : 200Hz
      training         : true
      randomElectrode  : true
      rewardedElectrode: [ "1", "2" ]
      trainingTrials   : 10
      testTrials       : 5
      testBeat         : -25.0Hz
      testAmplitude    : 1.000V
      stimOff          : true
      rewardInTest     : true
      harmonic         : true
  Setup:
      scaling1: 1.000
      scaling2: 1.000
  EOD estimation:
      intrace    : [ V-1, EOD, LocalEOD-1, LocalEOD-2, GlobalEFieldStimulus ]
      usepsd     : true
      mineodfreq : 100Hz
      maxeodfreq : 2000Hz
      eodfreqprec: 1Hz
      averagetime: 2s

*RePro: EFieldGeometry
  Enviroment data:
      temperature : 26°C
      conductivity: 330µS
      water_level : 20cm
  Measurement data:
      robot        : robot-2
      type         : ~
      distance     : 0mm
      head_length  : 20mm
      tail_length  : 20mm
      width_posY   : 50mm
      width_negY   : 50mm
      height       : 50mm
      depth        : 50mm
      step_length_x: 5mm
      step_length_y: 5mm
      step_length_z: 5mm

*RePro: JAR
  Stimulation:
      duration     : 10seconds
      pause        : 10seconds
      ramp         : 0.5seconds
      deltafstep   : 2Hz
      deltafmax    : 12Hz
      deltafmin    : -12Hz
      deltafrange  : ~
      deltafshuffle: [ Up, Down, AlternateInUp, AlternateInDown, AlternateOutUp, AlternateOutDown, Random, PseudoRandom ]
      repeats      : 200
  Amplitudes:
      amplsel     : [ contrast, absolute ]
      contrastmax : 20%
      contrastmin : 10%
      contraststep: 20%
      amplmin     : 1mV/cm
      amplmax     : 2mV/cm
      amplstep    : 1mV/cm
  S&timulus:
      genstim : true
      sinewave: true
      file    : ~
      sigstdev: 1
      warpfile: false
      fakefish: 0Hz
  A&nalysis:
      before      : 1seconds
      after       : 8seconds
      savetraces  : true
      jaraverage  : 500ms
      chirpaverage: 20ms
      eodsavetime : 1000ms

*RePro: LinearField
  duration: 1s

*RePro: ManualJAR
  deltaf          : 0.0Hz
  lineardeltaf    : false
  deltaf2         : 0.0Hz
  amplitude       : 1.0mV
  duration        : 10seconds
  ramp            : 0.5seconds
  fakefish        : 0Hz
  showlineardeltaf: false
  before          : 1seconds
  after           : 1seconds
  averagetime     : 1seconds
  split           : false
  savetraces      : false

*RePro: BaselineActivity
  Timing:
      duration: 300ms
      repeats : 0
  Analysis:
      isimax  : 20ms
      isistep : 0.2ms
      ratedt  : 0.05ms
      ratetmax: 2ms
  Files:
      eodduration : 2000ms
      saveeodtrace: false
      saveeodtimes: false
  Control:
      auto  : [ never, once, always ]
      adjust: false

*RePro: Chirps
  Chirp parameter:
      nchirps      : 10
      beatpos      : 10
      beatstart    : 0.25
      minspace     : 200ms
      firstspace   : 200ms
      chirpsize    : 100Hz
      chirpwidth   : 14ms
      chirpampl    : 2%
      chirpsel     : [ generated, from file ]
      chirpkurtosis: 1
      file         : ~
  Beat parameter:
      deltaf  : 10Hz
      contrast: 20%
      am      : true
      sinewave: true
      playback: false
      pause   : 1000ms
      repeats : 6
  Analysis:
      sigma : 2ms
      adjust: true

*RePro: FICurve
  Test-Intensities:
      duration     : 400ms
      maxintfac    : 180%
      minintfac    : 20%
      nints        : 16
      repeats      : 1
      blockrepeats : 10
      singlerepeats: 1
      intshuffle   : [ AlternateOutUp, Up, Down, AlternateInUp, AlternateInDown, AlternateOutUp, AlternateOutDown, Random, PseudoRandom ]
      intincrement : -2
  Pre-Intensities:
      preduration  : 0ms
      maxpreintfac : 140%
      minpreintfac : 60%
      npreints     : 2
      preintshuffle: [ AlternateInDown, Up, Down, AlternateInUp, AlternateInDown, AlternateOutUp, AlternateOutDown, Random, PseudoRandom ]
  Control:
      am               : true
      pause            : 1000ms
      delay            : 200ms
      onsettime        : 50ms
      rangeintincrement: 4
      minrate          : 40Hz
      minratefrac      : 15%
      adjust           : false

*RePro: FileStimulus
  Stimulus:
      file     : /home/efish/stimuli/whitenoise/gwn300Hz10s0.3.dat
      sigstdev : 0.3
      duration : 0ms
      pause    : 1000ms
      amplsel  : [ contrast, absolute ]
      contrast : 5%
      amplitude: 1mV/cm
      am       : true
      repeats  : 5
  Additional noise:
      noisetype    : [ none, Gaussian-White, Ornstein-Uhlenbeck ]
      uppercutoff  : 300Hz
      lowercutoff  : 0Hz
      noisetau     : 100ms
      noisecontrast: 5%
      noiseampl    : 80mV/cm
  Analysis:
      binwidth: 5ms
      before  : 0ms
      after   : 0ms
      plotpsd : true
      psdsize : [ "256", "64", "128", "256", "512", "1024", "2048", "4096", "8192", "16384", "32768", "65536", "131072", "262144", "524288", "1048576" ]
      adjust  : false

*RePro: ReceptiveField
  Quick Search:
      xmin         : 25mm
      xmax         : 126mm
      xstep        : 5mm
      ymin         : 0mm
      ymax         : 0mm
      ystep        : 1mm
      ystart       : 0mm
      zmin         : -60mm
      zmax         : -60mm
      zstep        : 1mm
      followmidline: true
  Stimulation:
      deltaf   : 20Hz
      amplitude: 40mV
      duration : 1000ms
      pause    : 250ms
      repeats  : 1
      binwidth : 5ms
  Robot setup:
      xmapping: [ y, y, z, x ]
      xinvert : true
      ymapping: [ z, z, x, y ]
      yinvert : true
      zmapping: [ x, x, y, z ]
      zinvert : false
      safex   : 350mm
      safey   : 0mm
      safez   : 0mm

*RePro: RobotToFishPosition
  Position:
      destination  : [ 100mm, 0mm, -42mm ]
      followmidline: true
  Robot setup:
      xmapping: [ y, z, x ]
      xinvert : true
      ymapping: [ z, x, y ]
      yinvert : true
      zmapping: [ x, y, z ]
      zinvert : false

*RePro: SAM
  Stimulus:
      duration   : 1000ms
      pause      : 1000ms
      freqsel    : [ relative to EOD, absolute ]
      deltaf     : 20Hz
      contrast   : 20%
      repeats    : 6
      am         : true
      sinewave   : true
      ampl       : "0.0"
      phase      : "0.0"pi
      contrastsel: [ fundamental, peak amplitude ]
  Analysis:
      skip    : 0.5Periods
      ratebins: 10
      before  : 0ms
      after   : 0ms
      adjust  : false

*Attenuator-0
  plugin         : LinearAttenuate
  ident          : Attenuator-0
  device         : attdev-1
  line           : 0
  aodevice       : ao-1
  aochannel      : 0
  intensityname  : amplitude
  intensityunit  : mV/cm
  intensityformat: %6.3f
  frequencyname  : ~
  frequencyunit  : Hz
  frequencyformat: %7.0f
  gain           : 0.83154
  offset         : 0

*Attenuator-1
  plugin         : LinearAttenuate
  ident          : Attenuator-1
  device         : attdev-1
  line           : 1
  aodevice       : ao-1
  aochannel      : 1
  intensityname  : amplitude
  intensityunit  : mV/cm
  intensityformat: %6.3f
  frequencyname  : ~
  frequencyunit  : Hz
  frequencyformat: %7.0f
  gain           : 0.053193
  offset         : 0

*Attenuator-2
  plugin         : LinearAttenuate
  ident          : Attenuator-2
  device         : attdev-2
  line           : 0
  aodevice       : ao-1
  aochannel      : 2
  intensityname  : amplitude
  intensityunit  : mV/cm
  intensityformat: %6.3f
  frequencyname  : ~
  frequencyunit  : Hz
  frequencyformat: %7.0f
  gain           : 1
  offset         : 0

